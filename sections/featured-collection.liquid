{% if section.settings.collection %}
    <div class="px-5 mx-auto mt-20 max-w-7xl">
        <span class="text-2xl">{{ section.settings.header }}</span>
        <div class="grid grid-cols-2 gap-5 mt-10 md:grid-cols-4">
            {% for product in section.settings.collection.products limit: section.settings.max_products %}
                {% render 'product-card', product:product %}
            {% endfor %}
        </div>
        <a class="w-48 h-12 mx-auto mt-10 btn-primary" href="{{ section.settings.collection.url }}">View all</a>
    </div>
{% endif %}


{% schema %}

{
    "name": "Featured collection",
    "settings": [
        {
            "type": "text",
            "id": "header",
            "label": "Header",
            "default": "Featured collection"
        }, {
            "type": "collection",
            "id": "collection",
            "label": "Collection"
        }, {
            "type": "range",
            "id": "max_products",
            "label": "Max products",
            "min": 2,
            "max": 12,
            "step": 2,
            "default": 4
        }
    ],
    "presets": [
        {
            "name": "Featured collection"
        }
    ]
}

{% endschema %}